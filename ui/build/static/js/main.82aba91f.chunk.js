(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{148:function(e,t,a){e.exports=a(281)},153:function(e,t,a){},273:function(e,t,a){},281:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(13),c=a.n(s),l=(a(153),a(58)),o=a(282),i=a(285),u=a(289),p=a(287),d=a(39),m=a.n(d),v=a(59),g=a(61),h=a(286),f=a(290),E=a(284),y=a(92),O=a(288),b=a(60),k=a.n(b),w=a(132),S=a.n(w);function j(e,t){return t.loading&&e===t.loader}function x(e,t){switch(t.type){case"loading":return Object(g.a)(Object(g.a)({},e),{},{loading:!0,loader:t.loader});case"status":return Object(g.a)(Object(g.a)({},e),{},{loading:!1,online:t.online,serversOnline:t.serversOnline})}}var N=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],s=t[1],c=Object(n.useReducer)(x,{loading:!1}),o=Object(l.a)(c,2),i=o[0],u=o[1],p=function(){var e=Object(v.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u({type:"loading",loader:"status"}),e.next=4,k.a.get("/api/status");case 4:t=e.sent,a=t.data,u({type:"status",online:a.data.running,serversOnline:a.data.servers}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),u({type:"status"});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(v.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u({type:"loading",loader:"start"}),e.next=4,k.a.post("/api/start");case 4:t=e.sent,a=t.data,u({type:"status",online:a.data.running,serversOnline:a.data.servers}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("error"),u({type:"status"});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(v.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u({type:"loading",loader:"shut down"}),e.next=4,k.a.post("/api/shutdown");case 4:u({type:"status",online:!1,serversOnline:0}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("error"),u({type:"status"});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(v.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=parseInt(a),e.prev=1,u({type:"loading"}),e.next=5,k.a.post("/api/resize",t);case 5:n=e.sent,console.log("result",n),u({type:"status",online:!0,serversOnline:n.data.data.servers}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("error"),u({type:"status"});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),w=void 0!==i.serversOnline?i.serversOnline:"?",N=void 0===i.online?"?":i.online?"Online":"Offline";return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"site-layout-background",style:{padding:24,minHeight:360}},r.a.createElement(h.a,{gutter:16},r.a.createElement(f.a,{span:12},r.a.createElement(E.a,{title:"Status",value:N})),r.a.createElement(f.a,{span:12},r.a.createElement(E.a,{title:"Servers Running",value:w}),r.a.createElement(y.a,{shape:"circle",size:"large",loading:j("status",i),icon:r.a.createElement(O.a,null),onClick:p}))),r.a.createElement(h.a,{gutter:16},r.a.createElement(f.a,{span:5},r.a.createElement(y.a,{type:"primary",loading:j("start",i),onClick:d},j("start",i)?"Starting server...":"Start server")),r.a.createElement(f.a,{span:6},r.a.createElement(S.a,{placeholder:"Servers to add",onSearch:b,onChange:function(e){return s(e.currentTarget.value)},enterButton:"Resize",value:a})),r.a.createElement(f.a,{span:5},r.a.createElement(y.a,{type:"primary",loading:j("shut down",i),onClick:g},j("shut down",i)?"Shutting down server...":"Shutdown server")))))},C=a(283),I=a(291),z=C.a.Dragger,B=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"site-layout-background",style:{padding:24,minHeight:360}},r.a.createElement(z,{multiple:!0,action:"/api/inject"},r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(I.a,null)),r.a.createElement("p",{className:"ant-upload-text"},"Click or drag files to this area to upload"),r.a.createElement("p",{className:"ant-upload-hint"},"Support for a single or bulk upload. Supported formats are ..."))))},H=(a(273),o.a.Content),R=o.a.Sider,D=function(){var e,t=Object(n.useState)("servers"),a=Object(l.a)(t,2),s=a[0],c=a[1];return e="servers"===s?N:B,r.a.createElement("div",{className:"App"},r.a.createElement(o.a,{style:{minHeight:"100vh"}},r.a.createElement(R,{theme:"light"},r.a.createElement("div",{className:"logo"}),r.a.createElement(i.a,{onClick:function(e){return c(e.key.toString())},defaultSelectedKeys:[s],mode:"inline"},r.a.createElement(i.a.Item,{key:"servers",icon:r.a.createElement(u.a,null)},"Servers"),r.a.createElement(i.a.Item,{key:"data",icon:r.a.createElement(p.a,null)},"Data"))),r.a.createElement(o.a,{className:"site-layout"},r.a.createElement(H,{style:{margin:"0 16px"}},r.a.createElement(e,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[148,1,2]]]);
//# sourceMappingURL=main.82aba91f.chunk.js.map